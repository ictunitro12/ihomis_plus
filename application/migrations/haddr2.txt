DROP TABLE IF EXISTS haddr2;
CREATE TABLE  haddr2 (
  hpercode varchar(20) NOT NULL,
  patstr varchar(100) DEFAULT NULL,
  brg varchar(9) DEFAULT NULL,
  ctycode varchar(6) DEFAULT NULL,
  provcode varchar(4) DEFAULT NULL,
  patzip varchar(10) DEFAULT NULL,
  cntrycode varchar(5) DEFAULT NULL,
  addstat varchar(1) DEFAULT NULL,
  addlock varchar(1) DEFAULT NULL,
  datemod datetime DEFAULT NULL,
  updsw varchar(1) DEFAULT NULL,
  confdl varchar(1) NOT NULL,
  haddr2dte datetime NOT NULL,
  entryby varchar(10) DEFAULT NULL,
  distzip varchar(4) DEFAULT NULL,
  PRIMARY KEY (hpercode,haddrdte),
  UNIQUE KEY pk_haddr2_idx (hpercode,haddr2dte),
  KEY bgycode_ctycode_provcode_idx (brg,ctycode,provcode),
  KEY haddr2_brg_idx (brg),
  KEY haddr2_ctycode_idx (ctycode),
  KEY haddr2_entryby_idx (entryby),
  KEY haddr2_hpercode_idx (hpercode),
  KEY haddr2_percode_provcty_idx(hpercode,provcode,ctycode),
  KEY haddr2_provcode_idx (provcode`),
  CONSTRAINT HADDR2_BRG_FK FOREIGN KEY (brg) REFERENCES hbrgy (bgycode) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT hperson_haddr2_fk FOREIGN KEY (hpercode) REFERENCES hperson (hpercode) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB DEFAULT CHARSET=latin1;